# ----------------------------------------
# HTTP & CORS Configuration
# ----------------------------------------
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:5173
quarkus.http.cors.methods=GET,POST,OPTIONS
quarkus.http.cors.headers=Content-Type,Authorization
quarkus.http.cors.exposed-headers=Content-Type,Authorization

# ----------------------------------------
# Default (dev) DynamoDB Configuration
# ----------------------------------------
zooby.seed.enabled=true
quarkus.dynamodb.devservices.enabled=true
quarkus.dynamodb.devservices.container-name=quarkus-dynamodb
zooby.models.table=zooby-local-models
zooby.inventory.table=zooby-local-inventory
quarkus.dynamodb.aws.region=${AWS_REGION:us-east-1}
quarkus.dynamodb.aws.credentials.type=static
quarkus.dynamodb.aws.credentials.static-provider.access-key-id=test-key
quarkus.dynamodb.aws.credentials.static-provider.secret-access-key=test-secret

# ----------------------------------------
# QA Profile Overrides
# ----------------------------------------

%qa.quarkus.profile=qa
%qa.quarkus.dynamodb.devservices.enabled=false
%qa.quarkus.dynamodb.aws.credentials.type=default
%qa.zooby.models.table=zooby-qa-models
%qa.zooby.inventory.table=zooby-qa-inventory
%qa.zooby.activations.table=zooby-qa-activations
quarkus.smallrye-graphql.print-data-fetcher-exception=true
quarkus.log.category."io.smallrye.graphql".level=DEBUG
%qa.quarkus.http.cors.origins=https://7qdnizqzpi.us-east-1.awsapprunner.com,http://localhost:5173

# ----------------------------------------
# Shared DynamoDB Client Settings
# ----------------------------------------
quarkus.dynamodb.sync-client.type=url
quarkus.dynamodb.sync-client.connection-timeout=1000
quarkus.dynamodb.sync-client.socket-timeout=3000

# ----------------------------------------
# OIDC Configuration
# ----------------------------------------
quarkus.oidc.enabled=false

# ----------------------------------------
# GraphQL Configuration
# ----------------------------------------
quarkus.smallrye-graphql.ui.always-include=true
quarkus.smallrye-graphql.show-runtime-exception-message=true

# ----------------------------------------
# Logging Configuration
# ----------------------------------------
quarkus.log.console.enable=false

quarkus.log.level=INFO
quarkus.log.category."com.zooby".level=DEBUG
quarkus.log.category."software.amazon.awssdk".level=INFO
quarkus.log.category."software.amazon.awssdk.auth".level=DEBUG

quarkus.http.access-log.enabled=true
quarkus.http.host=0.0.0.0
quarkus.http.port=8080

quarkus.log.console.json=true
quarkus.log.console.json.pretty-print=false

# MDC fields
quarkus.log.console.json.additional-field.userId=%X{userId}
quarkus.log.console.json.additional-field.accountId=%X{accountId}
quarkus.log.console.json.additional-field.roles=%X{roles}

# Static custom fields
%qa.quarkus.log.console.json.additional-field.env=qa
quarkus.log.console.json.additional-field.app=zooby-backend

# Base fields (optional)
quarkus.log.console.json.field-name.timestamp=ts
quarkus.log.console.json.field-name.level=level
quarkus.log.console.json.field-name.message=msg

# ----------------------------------------
# Native Resource Includes
# ----------------------------------------
quarkus.native.resources.includes=**/schema/*.json,schema/*.json
